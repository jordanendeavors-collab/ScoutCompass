<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SCOUT COMPASS ADVENTURE - Riparian Preserve</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Bangers&family=Fredoka:wght@400;600;700&family=Courier+Prime:wght@700&display=swap');

  :root {
    --parchment: #F5E6C8;
    --parchment-dark: #E8D5A8;
    --ink: #2C1810;
    --red: #DC143C;
    --green: #2D5016;
    --blue: #1A6B8A;
    --gold: #DAA520;
    --orange: #E8751A;
    --found-green: #28A745;
    --tan: #C4A265;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Fredoka', 'Segoe UI', sans-serif; background: #1a1a2e; }

  /* ===== HEADER ===== */
  .header {
    background: linear-gradient(135deg, var(--red) 0%, #8B0000 50%, var(--ink) 100%);
    padding: 20px; text-align: center; border-bottom: 5px solid var(--gold);
    position: relative; overflow: hidden;
  }
  .header::before {
    content: ''; position: absolute; inset: 0; opacity: 0.08;
    background: repeating-linear-gradient(45deg, transparent, transparent 20px, var(--gold) 20px, var(--gold) 21px);
  }
  .header h1 {
    font-family: 'Bangers', cursive; font-size: clamp(1.6rem, 5vw, 2.8rem);
    color: var(--gold); text-shadow: 3px 3px 0 rgba(0,0,0,0.5); letter-spacing: 4px; position: relative;
  }
  .header .sub { color: #FFD700; font-size: clamp(0.8rem, 2.5vw, 1.1rem); font-weight: 600; position: relative; }
  .header .loc { color: rgba(255,215,0,0.6); font-size: 0.75rem; margin-top: 2px; position: relative; }

  /* ===== SCOREBOARD ===== */
  .scoreboard {
    background: linear-gradient(180deg, #1a1a2e, #16213e);
    padding: 12px 16px; display: flex; justify-content: space-around; flex-wrap: wrap; gap: 8px;
    border-bottom: 3px solid var(--gold);
  }
  .score-item { text-align: center; }
  .score-label { font-size: 0.6rem; color: rgba(255,215,0,0.5); letter-spacing: 2px; font-weight: 700; text-transform: uppercase; }
  .score-val { font-family: 'Courier Prime', monospace; font-size: 1.6rem; color: var(--gold); font-weight: 700; line-height: 1.1; }
  .score-val.green { color: var(--found-green); }

  /* ===== COMPASS ROSE ===== */
  .compass-section {
    background: var(--parchment); padding: 16px; display: flex; justify-content: center;
    position: relative;
  }
  .compass-section::before {
    content: ''; position: absolute; inset: 0;
    background: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(44,24,16,0.03) 10px, rgba(44,24,16,0.03) 20px);
  }

  /* ===== LEGEND ===== */
  .legend {
    background: var(--parchment-dark); padding: 10px 16px;
    display: flex; flex-wrap: wrap; justify-content: center; gap: 8px 20px;
    font-size: 0.7rem; border-top: 2px solid var(--ink); border-bottom: 2px solid var(--ink);
  }
  .legend-item { display: flex; align-items: center; gap: 5px; }
  .legend-swatch { width: 14px; height: 14px; border-radius: 3px; border: 1px solid rgba(0,0,0,0.15); flex-shrink: 0; }

  /* ===== MAP ===== */
  .map-wrap { background: var(--parchment); padding: 12px; }
  .map {
    position: relative; width: 100%; padding-bottom: 75%;
    background: linear-gradient(var(--parchment-dark), var(--parchment));
    border: 3px solid var(--ink); border-radius: 4px; overflow: hidden;
    box-shadow: inset 0 0 40px rgba(44,24,16,0.12);
  }
  .map-grid {
    position: absolute; inset: 0; z-index: 1; pointer-events: none;
    background: linear-gradient(rgba(44,24,16,0.06) 1px, transparent 1px),
                linear-gradient(90deg, rgba(44,24,16,0.06) 1px, transparent 1px);
    background-size: 10% 10%;
  }
  .water {
    position: absolute; border-radius: 50%;
    background: radial-gradient(ellipse, rgba(26,107,138,0.35), rgba(26,107,138,0.12));
    border: 1px solid rgba(26,107,138,0.25);
  }
  .map-label {
    position: absolute; font-size: 0.55rem; color: var(--blue); font-weight: 700;
    letter-spacing: 1px; text-transform: uppercase; opacity: 0.65; z-index: 3; pointer-events: none;
  }
  .trail-svg { position: absolute; inset: 0; width: 100%; height: 100%; z-index: 2; pointer-events: none; }
  .scale-bar { position: absolute; bottom: 8px; left: 8px; z-index: 5; }
  .scale-line {
    width: 70px; height: 5px; border: 1px solid var(--ink);
    background: repeating-linear-gradient(90deg, var(--ink) 0, var(--ink) 35px, var(--parchment) 35px, var(--parchment) 70px);
  }
  .scale-text { font-family: 'Courier Prime', monospace; font-size: 0.5rem; color: var(--ink); font-weight: 700; margin-top: 1px; }

  /* Markers */
  .marker {
    position: absolute; z-index: 10; cursor: pointer; transform: translate(-50%, -50%);
    transition: transform 0.3s cubic-bezier(0.34,1.56,0.64,1);
  }
  .marker:hover { transform: translate(-50%,-50%) scale(1.25); z-index: 20; }
  .marker-pin {
    width: 32px; height: 32px; border-radius: 50% 50% 50% 0; transform: rotate(-45deg);
    display: flex; align-items: center; justify-content: center;
    box-shadow: 2px 2px 6px rgba(0,0,0,0.4); border: 2px solid rgba(255,255,255,0.4);
  }
  .marker-icon { transform: rotate(45deg); font-size: 14px; line-height: 1; }
  .marker-num {
    position: absolute; top: -6px; right: -6px; width: 18px; height: 18px;
    background: var(--red); color: white; border-radius: 50%; font-size: 0.6rem;
    font-weight: 700; display: flex; align-items: center; justify-content: center;
    border: 2px solid white; font-family: 'Courier Prime', monospace; box-shadow: 1px 1px 3px rgba(0,0,0,0.3);
  }
  .marker.found .marker-pin { background: var(--found-green) !important; box-shadow: 0 0 12px rgba(40,167,69,0.5); }
  .marker.found .marker-num { background: var(--found-green); }

  /* ===== WAYPOINT CARDS ===== */
  .wp-section { background: linear-gradient(180deg, #1a1a2e, #0f3460); padding: 16px; }
  .section-title {
    font-family: 'Bangers', cursive; font-size: 1.5rem; color: var(--gold);
    text-align: center; letter-spacing: 3px; margin-bottom: 12px; text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
  }
  .wp-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 10px; max-width: 850px; margin: 0 auto;
  }
  .wp-card {
    background: var(--parchment); border-radius: 8px; padding: 12px;
    border-left: 5px solid var(--orange); box-shadow: 0 3px 10px rgba(0,0,0,0.3);
    position: relative; transition: transform 0.2s;
  }
  .wp-card:hover { transform: translateY(-2px); }
  .wp-card.found { border-left-color: var(--found-green); }
  .wp-card .found-badge {
    display: none; position: absolute; top: 6px; right: 6px;
    background: var(--found-green); color: white; font-size: 0.6rem; font-weight: 700;
    padding: 2px 8px; border-radius: 10px; font-family: 'Courier Prime', monospace; letter-spacing: 1px;
  }
  .wp-card.found .found-badge { display: block; }
  .wp-head { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; }
  .wp-num {
    width: 26px; height: 26px; background: var(--red); color: white; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Courier Prime', monospace; font-weight: 700; font-size: 0.8rem; flex-shrink: 0;
  }
  .wp-name { font-family: 'Bangers', cursive; font-size: 0.95rem; color: var(--ink); letter-spacing: 0.5px; }
  .wp-sub { font-size: 0.7rem; color: #666; }
  .wp-coords {
    font-family: 'Courier Prime', monospace; font-size: 0.65rem; color: var(--green);
    background: rgba(45,80,22,0.08); padding: 3px 6px; border-radius: 3px; display: inline-block; margin-bottom: 6px;
  }
  .wp-details { display: grid; grid-template-columns: 1fr 1fr; gap: 2px 10px; font-size: 0.72rem; margin-bottom: 6px; }
  .wp-detail-label { font-weight: 700; color: var(--red); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 1px; }
  .wp-clue {
    background: rgba(218,165,32,0.12); border: 1px dashed var(--gold);
    border-radius: 5px; padding: 6px 8px; font-size: 0.75rem; font-style: italic; margin-bottom: 6px;
  }
  .wp-task { background: rgba(45,80,22,0.08); border-radius: 5px; padding: 6px 8px; font-size: 0.72rem; margin-bottom: 8px; }
  .wp-btn {
    width: 100%; padding: 7px; border: none; border-radius: 5px;
    background: var(--red); color: white; font-family: 'Bangers', cursive;
    font-size: 0.85rem; letter-spacing: 2px; cursor: pointer; text-transform: uppercase;
    transition: background 0.2s;
  }
  .wp-btn:hover { background: #B01030; }
  .wp-card.found .wp-btn { background: var(--found-green); }

  /* ===== COMPASS LESSON ===== */
  .lesson-section { background: var(--parchment-dark); padding: 16px; }
  .lesson-card {
    max-width: 700px; margin: 0 auto; background: white; border-radius: 10px;
    padding: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid var(--green);
  }
  .lesson-title { font-family: 'Bangers', cursive; font-size: 1.2rem; color: var(--green); letter-spacing: 2px; margin-bottom: 10px; }
  .lesson-step {
    display: flex; gap: 10px; padding: 8px 0;
    border-bottom: 1px dashed rgba(44,24,16,0.12);
  }
  .lesson-step:last-child { border-bottom: none; }
  .step-num {
    width: 26px; height: 26px; background: var(--green); color: white; border-radius: 50%;
    display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.75rem; flex-shrink: 0;
  }
  .step-text { font-size: 0.82rem; line-height: 1.45; }
  .step-text strong { color: var(--red); }

  /* ===== TOPO KEY ===== */
  .topo-section { background: linear-gradient(135deg, #f0e6d0, #e8d5a8); padding: 16px; border-top: 3px solid var(--tan); }
  .topo-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 8px; max-width: 700px; margin: 10px auto 0;
  }
  .topo-item { background: white; border-radius: 7px; padding: 8px; text-align: center; border: 1px solid var(--tan); }
  .topo-icon { font-size: 1.3rem; margin-bottom: 3px; }
  .topo-name { font-weight: 700; font-size: 0.75rem; }
  .topo-desc { font-size: 0.6rem; color: #666; margin-top: 1px; }

  /* ===== FOOTER ===== */
  .footer {
    background: var(--ink); padding: 12px; text-align: center;
    color: rgba(255,215,0,0.4); font-size: 0.65rem; line-height: 1.6;
  }

  /* ============================================================
     PRINT STYLES - Optimized for 8.5x11 color print
     ============================================================ */
  @media print {
    * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
    body { background: white !important; }
    
    .header { padding: 12px; break-inside: avoid; }
    .header h1 { font-size: 1.8rem; }
    
    .scoreboard {
      background: #f0f0f0 !important; border-bottom: 2px solid var(--gold);
    }
    .score-label { color: #333 !important; }
    .score-val { color: var(--ink) !important; font-size: 1.2rem; }
    .score-val.green { color: var(--found-green) !important; }
    
    .compass-section { padding: 10px; }
    .compass-section svg { width: 140px; height: 140px; }
    
    .map-wrap { padding: 8px; }
    
    .wp-section { background: white !important; padding: 12px; }
    .section-title { color: var(--ink) !important; text-shadow: none !important; font-size: 1.2rem; }
    .wp-grid { gap: 8px; }
    .wp-card { box-shadow: none; border: 1px solid #ccc; padding: 8px; break-inside: avoid; }
    .wp-btn { display: none; }
    .found-badge { display: none !important; }
    
    .lesson-section { break-inside: avoid; }
    .lesson-card { box-shadow: none; border: 1px solid var(--green); }
    
    .topo-section { break-inside: avoid; }
    .topo-item { box-shadow: none; }
    
    .footer { background: #f5f5f5 !important; color: #666 !important; }
    
    /* Page breaks */
    .wp-section { break-before: page; }
    .lesson-section { break-before: page; }
  }
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <h1>SCOUT COMPASS ADVENTURE</h1>
  <div class="sub">Operation: Desert Navigator ‚Äî Riparian Preserve</div>
  <div class="loc">2757 E Guadalupe Rd, Gilbert, AZ 85234 ¬∑ Troop Size: 10 Scouts ¬∑ 45-Minute Course</div>
</div>

<!-- SCOREBOARD -->
<div class="scoreboard">
  <div class="score-item"><div class="score-label">Waypoints</div><div class="score-val">10</div></div>
  <div class="score-item"><div class="score-label">Found</div><div class="score-val green" id="foundCount">0</div></div>
  <div class="score-item"><div class="score-label">Distance</div><div class="score-val">~0.8mi</div></div>
  <div class="score-item"><div class="score-label">Est. Time</div><div class="score-val">45min</div></div>
</div>

<!-- COMPASS ROSE -->
<div class="compass-section">
  <svg viewBox="0 0 200 200" style="width:180px;height:180px;filter:drop-shadow(2px 4px 6px rgba(0,0,0,0.3));position:relative">
    <defs><radialGradient id="rg" cx="50%" cy="50%"><stop offset="0%" stop-color="#FFF8E1"/><stop offset="100%" stop-color="#E8D5A8"/></radialGradient></defs>
    <circle cx="100" cy="100" r="95" fill="url(#rg)" stroke="#2C1810" stroke-width="3"/>
    <circle cx="100" cy="100" r="88" fill="none" stroke="#2C1810" stroke-width="0.5"/>
    <line x1="100" y1="8" x2="100" y2="16" stroke="#2C1810" stroke-width="1" opacity="0.5"/>
    <line x1="100" y1="8" x2="100" y2="16" stroke="#2C1810" stroke-width="1" opacity="0.5" transform="rotate(90,100,100)"/>
    <line x1="100" y1="8" x2="100" y2="16" stroke="#2C1810" stroke-width="1" opacity="0.5" transform="rotate(180,100,100)"/>
    <line x1="100" y1="8" x2="100" y2="16" stroke="#2C1810" stroke-width="1" opacity="0.5" transform="rotate(270,100,100)"/>
    <polygon points="100,15 106,85 100,75 94,85" fill="#DC143C"/>
    <polygon points="100,185 106,115 100,125 94,115" fill="#2C1810"/>
    <polygon points="15,100 85,94 75,100 85,106" fill="#2C1810"/>
    <polygon points="185,100 115,94 125,100 115,106" fill="#2C1810"/>
    <polygon points="40,40 88,88 80,92 92,80" fill="#DAA520" opacity="0.5"/>
    <polygon points="160,40 112,88 120,92 108,80" fill="#DAA520" opacity="0.5"/>
    <polygon points="40,160 88,112 80,108 92,120" fill="#DAA520" opacity="0.5"/>
    <polygon points="160,160 112,112 120,108 108,120" fill="#DAA520" opacity="0.5"/>
    <circle cx="100" cy="100" r="5" fill="#DAA520" stroke="#2C1810" stroke-width="1"/>
    <text x="100" y="32" text-anchor="middle" fill="#DC143C" font-family="Bangers,cursive" font-weight="900" font-size="18">N</text>
    <text x="100" y="178" text-anchor="middle" fill="#2C1810" font-family="Bangers,cursive" font-weight="700" font-size="15">S</text>
    <text x="177" y="105" text-anchor="middle" fill="#2C1810" font-family="Bangers,cursive" font-weight="700" font-size="15">E</text>
    <text x="23" y="105" text-anchor="middle" fill="#2C1810" font-family="Bangers,cursive" font-weight="700" font-size="15">W</text>
    <text x="100" y="44" text-anchor="middle" fill="#888" font-family="monospace" font-size="7">0¬∞</text>
    <text x="163" y="103" text-anchor="middle" fill="#888" font-family="monospace" font-size="7">90¬∞</text>
    <text x="100" y="165" text-anchor="middle" fill="#888" font-family="monospace" font-size="7">180¬∞</text>
    <text x="40" y="103" text-anchor="middle" fill="#888" font-family="monospace" font-size="7">270¬∞</text>
    <text x="149" y="50" text-anchor="middle" fill="#888" font-family="Fredoka,sans-serif" font-size="8">NE</text>
    <text x="51" y="50" text-anchor="middle" fill="#888" font-family="Fredoka,sans-serif" font-size="8">NW</text>
    <text x="149" y="158" text-anchor="middle" fill="#888" font-family="Fredoka,sans-serif" font-size="8">SE</text>
    <text x="51" y="158" text-anchor="middle" fill="#888" font-family="Fredoka,sans-serif" font-size="8">SW</text>
  </svg>
</div>

<!-- LEGEND -->
<div class="legend">
  <div class="legend-item"><div class="legend-swatch" style="background:rgba(26,107,138,0.35)"></div> Water / Pond</div>
  <div class="legend-item"><div class="legend-swatch" style="background:#2D5016"></div> Main Trail</div>
  <div class="legend-item"><div class="legend-swatch" style="background:#C4A265;border-style:dashed"></div> Side Trail</div>
  <div class="legend-item"><div class="legend-swatch" style="background:#E8751A"></div> Waypoint</div>
  <div class="legend-item"><div class="legend-swatch" style="background:#28A745"></div> Found!</div>
  <div class="legend-item"><div class="legend-swatch" style="background:#DC143C"></div> Start / Rally</div>
</div>

<!-- MAP -->
<div class="map-wrap">
  <div class="map">
    <div class="map-grid"></div>

    <!-- Water bodies -->
    <div class="water" style="left:22%;top:25%;width:18%;height:22%"></div>
    <div class="water" style="left:55%;top:35%;width:14%;height:18%"></div>
    <div class="water" style="left:35%;top:55%;width:20%;height:15%;border-radius:40% 60% 50% 50%"></div>
    <div class="water" style="left:15%;top:60%;width:12%;height:14%"></div>

    <!-- Labels -->
    <div class="map-label" style="left:24%;top:20%;transform:rotate(-5deg)">Basin 1</div>
    <div class="map-label" style="left:57%;top:30%">Basin 2</div>
    <div class="map-label" style="left:38%;top:52%">Basin 3</div>
    <div class="map-label" style="left:16%;top:57%">Basin 4</div>

    <!-- Trails -->
    <svg class="trail-svg" viewBox="0 0 400 300">
      <path d="M 40,280 C 60,250 80,200 100,170 S 140,120 160,100 S 200,70 240,80 S 300,100 340,120 S 370,160 360,200 S 320,250 280,270 S 220,290 180,280 S 120,260 80,270 Z" fill="none" stroke="#2D5016" stroke-width="3" opacity="0.45"/>
      <path d="M 100,170 L 140,190 L 180,160 L 220,180" fill="none" stroke="#C4A265" stroke-width="2.5" stroke-dasharray="8 4" opacity="0.6"/>
      <path d="M 240,80 L 260,120 L 300,140" fill="none" stroke="#C4A265" stroke-width="2.5" stroke-dasharray="8 4" opacity="0.6"/>
      <path d="M 160,100 L 180,60 L 220,50" fill="none" stroke="#C4A265" stroke-width="2.5" stroke-dasharray="8 4" opacity="0.6"/>
      <path d="M 280,270 L 320,220 L 350,180" fill="none" stroke="#C4A265" stroke-width="2.5" stroke-dasharray="8 4" opacity="0.6"/>
    </svg>

    <!-- Scale -->
    <div class="scale-bar">
      <div class="scale-line"></div>
      <div class="scale-text">0 ‚Äî‚Äî 200ft</div>
    </div>

    <!-- Mini compass -->
    <svg viewBox="0 0 50 50" style="position:absolute;top:8px;right:8px;width:40px;height:40px;z-index:5">
      <circle cx="25" cy="25" r="22" fill="rgba(245,230,200,0.9)" stroke="#2C1810" stroke-width="1.5"/>
      <polygon points="25,6 27,21 25,19 23,21" fill="#DC143C"/>
      <polygon points="25,44 27,29 25,31 23,29" fill="#2C1810"/>
      <text x="25" y="14" text-anchor="middle" fill="#DC143C" font-weight="900" font-size="7">N</text>
    </svg>

    <!-- MARKERS -->
    <div class="marker" id="m0" style="left:10%;top:88%" onclick="toggle(0)"><div class="marker-pin" style="background:#DC143C"><span class="marker-icon">‚≠ê</span></div><span class="marker-num">S</span></div>
    <div class="marker" id="m1" style="left:18%;top:68%" onclick="toggle(1)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">üåµ</span></div><span class="marker-num">1</span></div>
    <div class="marker" id="m2" style="left:30%;top:42%" onclick="toggle(2)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">ü¶é</span></div><span class="marker-num">2</span></div>
    <div class="marker" id="m3" style="left:22%;top:22%" onclick="toggle(3)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">üê¶</span></div><span class="marker-num">3</span></div>
    <div class="marker" id="m4" style="left:42%;top:15%" onclick="toggle(4)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">ü™®</span></div><span class="marker-num">4</span></div>
    <div class="marker" id="m5" style="left:58%;top:28%" onclick="toggle(5)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">üåä</span></div><span class="marker-num">5</span></div>
    <div class="marker" id="m6" style="left:72%;top:42%" onclick="toggle(6)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">ü¶Ö</span></div><span class="marker-num">6</span></div>
    <div class="marker" id="m7" style="left:85%;top:55%" onclick="toggle(7)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">üèúÔ∏è</span></div><span class="marker-num">7</span></div>
    <div class="marker" id="m8" style="left:75%;top:72%" onclick="toggle(8)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">üåø</span></div><span class="marker-num">8</span></div>
    <div class="marker" id="m9" style="left:50%;top:82%" onclick="toggle(9)"><div class="marker-pin" style="background:#E8751A"><span class="marker-icon">üèÅ</span></div><span class="marker-num">9</span></div>
  </div>
</div>

<!-- WAYPOINT CARDS -->
<div class="wp-section">
  <div class="section-title">MISSION WAYPOINTS</div>
  <div class="wp-grid" id="wpGrid"></div>
</div>

<!-- COMPASS LESSON -->
<div class="lesson-section">
  <div class="lesson-card">
    <div class="lesson-title">HOW TO USE YOUR COMPASS</div>
    <div class="lesson-step"><div class="step-num">1</div><div class="step-text"><strong>Hold it flat</strong> in front of you at waist height. The needle floats freely ‚Äî don't tilt!</div></div>
    <div class="lesson-step"><div class="step-num">2</div><div class="step-text"><strong>Let the needle settle.</strong> The RED end always points NORTH toward the "N" on the dial.</div></div>
    <div class="lesson-step"><div class="step-num">3</div><div class="step-text"><strong>Rotate the bezel</strong> (outer ring) until "N" on the dial lines up with the RED needle.</div></div>
    <div class="lesson-step"><div class="step-num">4</div><div class="step-text"><strong>Read your bearing:</strong> Look at the direction-of-travel arrow. The number where it meets the bezel is your heading in DEGREES (0¬∞=N, 90¬∞=E, 180¬∞=S, 270¬∞=W).</div></div>
    <div class="lesson-step"><div class="step-num">5</div><div class="step-text"><strong>Navigate to a waypoint:</strong> Set target bearing on bezel, rotate your BODY until red needle sits in the orienting arrow ("red in the shed"). Walk forward!</div></div>
    <div class="lesson-step"><div class="step-num">6</div><div class="step-text"><strong>Pace counting:</strong> Each pair of steps ‚âà 5 feet. Count your paces to estimate distance between waypoints.</div></div>
  </div>
</div>

<!-- TOPO KEY -->
<div class="topo-section">
  <div class="section-title" style="color:#2C1810;text-shadow:none">TOPOGRAPHIC SYMBOLS</div>
  <div class="topo-grid">
    <div class="topo-item"><div class="topo-icon">„Ä∞Ô∏è</div><div class="topo-name">Contour Line</div><div class="topo-desc">Elevation ‚Äî closer = steeper</div></div>
    <div class="topo-item"><div class="topo-icon">üíß</div><div class="topo-name">Water Feature</div><div class="topo-desc">Pond, basin, wetland</div></div>
    <div class="topo-item"><div class="topo-icon">üå≥</div><div class="topo-name">Vegetation</div><div class="topo-desc">Trees, bushes, cover</div></div>
    <div class="topo-item"><div class="topo-icon">- - -</div><div class="topo-name">Trail (Unpaved)</div><div class="topo-desc">Dirt/gravel footpath</div></div>
    <div class="topo-item"><div class="topo-icon">‚îÅ‚îÅ</div><div class="topo-name">Trail (Paved)</div><div class="topo-desc">Concrete or asphalt</div></div>
    <div class="topo-item"><div class="topo-icon">‚ñ≤</div><div class="topo-name">Benchmark</div><div class="topo-desc">Known elevation point</div></div>
  </div>
</div>

<!-- FOOTER -->
<div class="footer">
  SCOUT COMPASS ADVENTURE | Riparian Preserve at Water Ranch, Gilbert, AZ<br>
  45-Minute Course ¬∑ Stay on trails ¬∑ Bring water ¬∑ Buddy system at all times ¬∑ Leader approval before crossing water
</div>

<script>
var waypoints = [
  {id:0,num:"S",name:"RALLY POINT",sub:"Library Parking Lot",lat:"33.3644¬∞ N",lon:"111.7347¬∞ W",bearing:"‚Äî START ‚Äî",distance:"START",clue:"Gather at the main parking lot by the library. Face NORTH. Your adventure begins!",task:"Orient your compass. Find North. Identify E, S, W. Buddy up!"},
  {id:1,num:"1",name:"DESERT SENTINEL",sub:"Saguaro Junction",lat:"33.3640¬∞ N",lon:"111.7352¬∞ W",bearing:"325¬∞ (NW)",distance:"~100 ft",clue:"Aim compass to 325¬∞ NW from Rally Point. Find the tallest cactus near the first trail split.",task:"Quick sketch the saguaro. Count its arms. Go!"},
  {id:2,num:"2",name:"LIZARD LOOKOUT",sub:"Basin Overlook",lat:"33.3647¬∞ N",lon:"111.7344¬∞ W",bearing:"30¬∞ (NNE)",distance:"~150 ft",clue:"Head 30¬∞ NNE from WP1. Follow trail until first water basin on your LEFT. Stop at the bench.",task:"Record GPS coords from your card. Scan for lizards!"},
  {id:3,num:"3",name:"BIRD BLIND",sub:"North Observation Point",lat:"33.3652¬∞ N",lon:"111.7348¬∞ W",bearing:"350¬∞ (N)",distance:"~120 ft",clue:"Bearing 350¬∞ almost due North. Look for the covered observation area near the water's edge.",task:"60-second silent count ‚Äî how many bird species can you spot?"},
  {id:4,num:"4",name:"BOULDER RIDGE",sub:"Trail Intersection",lat:"33.3655¬∞ N",lon:"111.7340¬∞ W",bearing:"65¬∞ (ENE)",distance:"~180 ft",clue:"Take bearing 65¬∞ ENE. Follow path past Basin 1. Look for large rock formation where trails cross.",task:"Use compass to shoot a bearing to the NEXT waypoint. Record it."},
  {id:5,num:"5",name:"WATER'S EDGE",sub:"Basin 2 Dock",lat:"33.3650¬∞ N",lon:"111.7335¬∞ W",bearing:"130¬∞ (SE)",distance:"~150 ft",clue:"Head 130¬∞ Southeast. Reach the second water basin. Find the viewing platform or dock area.",task:"Measure bearing BACK to WP4. Should be reciprocal (310¬∞). Verify!"},
  {id:6,num:"6",name:"HAWK'S PERCH",sub:"East Ridge Trail",lat:"33.3645¬∞ N",lon:"111.7328¬∞ W",bearing:"110¬∞ (ESE)",distance:"~150 ft",clue:"Compass bearing 110¬∞ ESE. Take the east side trail. Look for the tall viewing tree or post.",task:"Take bearing to 2 visible landmarks. Record on datasheet."},
  {id:7,num:"7",name:"DESERT WASH",sub:"Southeast Boundary",lat:"33.3638¬∞ N",lon:"111.7322¬∞ W",bearing:"155¬∞ (SSE)",distance:"~180 ft",clue:"Follow 155¬∞ SSE along the preserve boundary. Look for the dry wash / drainage area.",task:"Quick sketch: how does water shape this desert terrain?"},
  {id:8,num:"8",name:"MESQUITE CAMP",sub:"South Trail Bend",lat:"33.3635¬∞ N",lon:"111.7332¬∞ W",bearing:"235¬∞ (SW)",distance:"~150 ft",clue:"Turn to 235¬∞ Southwest. Head back toward the interior. Find the mesquite tree cluster near south trail bend.",task:"Pace count from here to the nearest water basin edge. Record distance."},
  {id:9,num:"9",name:"FINISH LINE",sub:"South Ramada",lat:"33.3637¬∞ N",lon:"111.7343¬∞ W",bearing:"280¬∞ (WNW)",distance:"~160 ft",clue:"Final leg! Bearing 280¬∞ WNW. Head toward the covered ramada/picnic area near the south parking.",task:"MISSION COMPLETE! Final bearing back to Rally Point. Regroup!"}
];

var found = [false,false,false,false,false,false,false,false,false,false];

function render() {
  var grid = document.getElementById('wpGrid');
  var html = '';
  for (var i = 0; i < waypoints.length; i++) {
    var wp = waypoints[i];
    var f = found[wp.id];
    html += '<div class="wp-card' + (f ? ' found' : '') + '" id="card' + wp.id + '">' +
      '<div class="found-badge">FOUND!</div>' +
      '<div class="wp-head"><div class="wp-num">' + wp.num + '</div><div><div class="wp-name">' + wp.name + '</div><div class="wp-sub">' + wp.sub + '</div></div></div>' +
      '<div class="wp-coords">' + wp.lat + ' | ' + wp.lon + '</div>' +
      '<div class="wp-details"><div><span class="wp-detail-label">Bearing</span><br>' + wp.bearing + '</div><div><span class="wp-detail-label">Distance</span><br>' + wp.distance + '</div></div>' +
      '<div class="wp-clue"><strong style="font-style:normal">üîç CLUE: </strong>' + wp.clue + '</div>' +
      '<div class="wp-task"><strong style="color:#2D5016">SCOUT TASK:</strong> ' + wp.task + '</div>' +
      '<button class="wp-btn" onclick="toggle(' + wp.id + ')">' + (f ? '‚úì FOUND!' : 'MARK AS FOUND') + '</button>' +
      '</div>';
  }
  grid.innerHTML = html;
}

function toggle(id) {
  found[id] = !found[id];
  var marker = document.getElementById('m' + id);
  if (found[id]) { marker.classList.add('found'); } else { marker.classList.remove('found'); }
  var count = 0;
  for (var i = 0; i < found.length; i++) { if (found[i]) count++; }
  document.getElementById('foundCount').textContent = count;
  render();
}

render();
</script>
</body>
</html>
